{"version":3,"sources":["utils/exportSheet.js","components/Common/SearchForm/BlSelectModelStoreTable.js","components/Common/SearchForm/BlDatePicker.js","../node_modules/_antd@3.23.4@antd/es/popover/style/index.js","../node_modules/_antd@3.23.4@antd/es/popover/index.js","api/saleSearchUrl.js","components/SaleSearch/GoodsDetail.js"],"names":["s2ab","s","ArrayBuffer","buf","length","view","Uint8Array","i","charCodeAt","Array","getCharCol","n","m","String","fromCharCode","createFile","json","fileName","extraList","_tmpdata","unshift","keyMap","k","push","tmpdata","map","v","j","Object","assign","position","reduce","prev","next","concat","forEach","temObj","item","label","value","outputPos","keys","tmpWB","SheetNames","Sheets","mySheet","!ref","wbout","XLSX","write","bookType","type","tmpDown","Blob","href","URL","createObjectURL","a","document","createElement","download","body","appendChild","click","removeChild","setTimeout","revokeObjectURL","__webpack_exports__","exportFile","exportConfig","extraData","arguments","undefined","index","newItem","_i3","_Object$keys2","exportFileByConfig","_i2","_Object$keys","toJSON","excelFile","config","Promise","resolve","reject","window","FileReader","result","fr","readAsBinaryString","onload","ev","data","target","workbook","read","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","sheet","utils","sheet_to_json","err","return","e","Error","parseToJSON","setter","name","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","defval","key","Search","checkedList","BlSelectModelStoreTable","props","_this","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_11__","this","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_13__","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_14__","call","onSearch","setState","visible","doSearchHandel","vendorNoListTemp","state","vendorNo","venderOptions","params","pageNum","pageSize","storeNo","storeName","vendorNoList","loading","$http","post","commonUrl","queryVendorStore","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__","then","res","code","msg","tableDataArr","id","tableData","catch","openNotification","message","handleOk","confirmHandel","join","handleCancel","inputChange","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__","defaultVal","rowSelection","onSelect","record","selected","selectedRows","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_8__","onSelectAll","changeRows","_this$props","placeholder","_this$props$className","className","react__WEBPACK_IMPORTED_MODULE_18___default","antd_es_form__WEBPACK_IMPORTED_MODULE_1__","Item","bind","enterButton","readOnly","antd_es_modal__WEBPACK_IMPORTED_MODULE_3__","title","width","onOk","onCancel","antd_es_input__WEBPACK_IMPORTED_MODULE_17__","allowClear","onChange","style","marginRight","onPressEnter","antd_es_button__WEBPACK_IMPORTED_MODULE_7__","onClick","antd_es_table__WEBPACK_IMPORTED_MODULE_5__","marginTop","rowKey","pagination","columns","dataIndex","dataSource","scroll","y","size","nextProps","Component","BlSelect","formItemChange","_props$className","defaultValMsg","moment","react__WEBPACK_IMPORTED_MODULE_4___default","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_3__","date","dateString","defaultValue","format","__webpack_require__","d","Popover","react__WEBPACK_IMPORTED_MODULE_0__","_tooltip__WEBPACK_IMPORTED_MODULE_1__","_config_provider__WEBPACK_IMPORTED_MODULE_2__","_util_warning__WEBPACK_IMPORTED_MODULE_3__","_typeof","obj","constructor","prototype","_extends","source","hasOwnProperty","apply","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","__rest","t","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_React$Component","instance","Constructor","TypeError","_classCallCheck","saveTooltip","node","tooltip","renderPopover","_ref","getPrefixCls","_a","customizePrefixCls","prefixCls","ref","overlay","getOverlay","protoProps","staticProps","subClass","superClass","create","_inherits","getPopupDomNode","content","defaultProps","placement","transitionName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","_utils_config__WEBPACK_IMPORTED_MODULE_0__","saleSearchUrl","summaryByGoods","reqUrlSupplier","storeSale","summaryGoodsEachStore","yVal","clientHeight","GoodsDetail","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_18__","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_20__","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_21__","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_17__","storeNoList","getDetailMsg","_this$state","goodsNoS","startDate","endDate","vendorNoListS","goodsBarcodeS","contractNoS","vendorGoodsNoS","Date","parse","replace","antd_es_message__WEBPACK_IMPORTED_MODULE_16__","warning","_params","goodsNo","goodsBarcode","contractNo","vendorGoodsNo","F_Work_BLX_Vendor_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_14__","citySaleListTemp","citySaleList","idx","provinceName","cityName","areaStr","storeSalePrice","toFixed","storeSaleQty","storeSaleAmount","storeSaleRatio","stockPrice","ratio","cityProfitAmount","goodsName","spec","saleUnit","saleQty","saleAmount","grossProfitAmount","doResetHandel","doExportDataHandel","exportLoading","dateFormat","exportSheet","searchContent","Storage","get","formLayout","match","render","text","react__WEBPACK_IMPORTED_MODULE_23___default","wordWrap","wordBreak","sorter","b","_this$state2","maxWidth","antd_es_form__WEBPACK_IMPORTED_MODULE_7__","layout","_Common_SearchForm_BlDatePicker__WEBPACK_IMPORTED_MODULE_27__","_Common_SearchForm_BlSelectModelStoreTable__WEBPACK_IMPORTED_MODULE_28__","antd_es_button__WEBPACK_IMPORTED_MODULE_11__","antd_es_icon__WEBPACK_IMPORTED_MODULE_13__","antd_es_popover__WEBPACK_IMPORTED_MODULE_9__","disabled","antd_es_row__WEBPACK_IMPORTED_MODULE_3__","align","gutter","antd_es_col__WEBPACK_IMPORTED_MODULE_5__","span","float","antd_es_table__WEBPACK_IMPORTED_MODULE_1__","x"],"mappings":"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","file":"static/js/6.73ba4577.chunk.js","sourcesContent":["import XLSX from 'xlsx'\r\n// js导出execl\r\nfunction s2ab (s) {\r\n  if (typeof ArrayBuffer !== 'undefined') {\r\n    let buf = new ArrayBuffer(s.length)\r\n    let view = new Uint8Array(buf)\r\n    for (let i = 0; i !== s.length; ++i) {\r\n      view[i] = s.charCodeAt(i) & 0xFF\r\n    }\r\n    return buf\r\n  } else {\r\n    let buf = new Array(s.length)\r\n    for (let i = 0; i !== s.length; ++i) {\r\n      buf[i] = s.charCodeAt(i) & 0xFF\r\n    }\r\n    return buf\r\n  }\r\n}\r\n\r\n// 将指定的自然数转换为26进制表示。映射关系：[0-25] -> [A-Z]。\r\nfunction getCharCol (n) {\r\n  let s = ''\r\n  let m = 0\r\n  while (n > 0) {\r\n    m = n % 26 + 1\r\n    s = String.fromCharCode(m + 64) + s\r\n    n = (n - m) / 26\r\n  }\r\n  return s\r\n}\r\n\r\nfunction exportFileByConfig (json, fileName, exportConfig, extraData = [[]]) {\r\n  if (exportConfig) {\r\n    json = json.map((item, index) => {\r\n      let newItem = {}\r\n      for (let k of Object.keys(exportConfig)) {\r\n        let value = item[k]\r\n        if (value === true) {\r\n          value = '是'\r\n        }\r\n        if (value === false) {\r\n          value = '否'\r\n        }\r\n        if (value === null || value === undefined) {\r\n          value = ''\r\n        }\r\n        newItem[exportConfig[k]] = value\r\n      }\r\n      return newItem\r\n    })\r\n  }\r\n  createFile(json, fileName, extraData)\r\n}\r\n\r\n// 建议使用exportFileByConfig方法，可以控制顺序\r\nfunction exportFile (json, fileName, exportConfig, extraData = [[]]) {\r\n  if (exportConfig) {\r\n    json = json.map((item, index) => {\r\n      let newItem = {}\r\n      // 设置导出的表头名称\r\n      for (let k of Object.keys(item)) {\r\n        if (!(k in exportConfig)) {\r\n          // newItem[k] = item[k] === null ? '' : (item[k] === true ? '是' : '否')  //将本句注释取消可将未配置字段也导出\r\n          continue\r\n        }\r\n        let value = item[k]\r\n        if (value === true) {\r\n          value = '是'\r\n        }\r\n        if (value === false) {\r\n          value = '否'\r\n        }\r\n        if (value === null || value === undefined) {\r\n          value = ''\r\n        }\r\n        newItem[exportConfig[k]] = value\r\n      }\r\n      return newItem\r\n    })\r\n  }\r\n  createFile(json, fileName, extraData)\r\n}\r\n\r\n/**\r\n *\r\n * @param json\r\n * @param fileName 名字.xlsx\r\n * @param extraList [[label: '', value: ''],[label: '', value: ''],[label: '', value: '']]\r\n */\r\nfunction createFile (json, fileName, extraList) {\r\n  let _tmpdata = json[0]\r\n  json.unshift({})\r\n  var keyMap = [] // 获取keys\r\n  for (var k in _tmpdata) {\r\n    keyMap.push(k)\r\n    json[0][k] = k\r\n  }\r\n  let tmpdata = [] // 用来保存转换好的json\r\n  json.map((v, i) => keyMap.map((k, j) => Object.assign({}, {\r\n    v: v[k],\r\n    // position: (j > 25 ? getCharCol(j) : String.fromCharCode(65 + j)) + (i + 1 + extraList.length) // 开头加个空行\r\n    position: (j > 25 ? getCharCol(j) : String.fromCharCode(65 + j)) + (i + extraList.length)\r\n  }))).reduce((prev, next) => prev.concat(next)).forEach((v, i) => {\r\n    tmpdata[v.position] = {\r\n      v: v.v\r\n    }\r\n  })\r\n  let temObj = {}\r\n  for (let i = 0; i < extraList.length; i++) {\r\n    let item = extraList[i]\r\n    for (let j = 0; j < item.length; j++) {\r\n      let key = String.fromCharCode(65 + i) + (j + 1)\r\n      temObj[key] = {v: item[j].label + ':' + item[j].value}\r\n    }\r\n  }\r\n  tmpdata = Object.assign(temObj, tmpdata)\r\n  var outputPos = Object.keys(tmpdata) // 设置区域,比如表格从A1到D10\r\n  var tmpWB = {\r\n    SheetNames: ['mySheet'], // 保存的表标题\r\n    Sheets: {\r\n      'mySheet': Object.assign({},\r\n        tmpdata, // 内容\r\n        {\r\n          '!ref': 'A1:' + outputPos[outputPos.length - 1] // 设置填充区域\r\n        })\r\n    }\r\n  }\r\n  let wbout = XLSX.write(tmpWB, {bookType: 'xlsx', type: 'binary'})\r\n  /* force a download */\r\n  let tmpDown = new Blob([s2ab(wbout)], {type: 'application/octet-stream'})\r\n  var href = URL.createObjectURL(tmpDown) // 创建对象超链接\r\n  var a = document.createElement('a')\r\n  a.href = href // 绑定a标签\r\n  a.download = fileName || `导出数据.xlsx`\r\n  document.body.appendChild(a)\r\n  a.click() // 模拟点击实现下载\r\n  document.body.removeChild(a)\r\n  setTimeout(function () { // 延时释放\r\n    URL.revokeObjectURL(tmpDown) // 用URL.revokeObjectURL()来释放这个object URL\r\n  }, 100)\r\n}\r\n\r\nfunction toJSON (excelFile, config) {\r\n  return new Promise((resolve, reject) => {\r\n    if (window.FileReader) {\r\n      let result = []\r\n      let fr = new FileReader()\r\n      fr.readAsBinaryString(excelFile)\r\n      fr.onload = ev => {\r\n        try {\r\n          let data = ev.target.result\r\n          // 以二进制形式读取excel文件\r\n          let workbook = XLSX.read(data, {\r\n            type: 'binary'\r\n          })\r\n          // 遍历每个表\r\n          for (let sheet of workbook.SheetNames) {\r\n            if (workbook.Sheets[sheet]) {\r\n              // 修改field配置\r\n              result = config ? result.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet], config)) : result.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]))\r\n            }\r\n          }\r\n          resolve(result)\r\n        } catch (e) {\r\n          return reject(new Error(\"文件类型不正确\"))\r\n        }\r\n      }\r\n      return\r\n    }\r\n    reject(new Error(\"该浏览器不支持该功能，请更换或升级浏览器\"))\r\n  })\r\n}\r\n\r\n/*\r\n *  @excelFile File\r\n *  @config Object 解析字段\r\n *  @setter Object XLSX.utils.sheet_to_json的配置\r\n*/\r\nfunction parseToJSON (excelFile, config, setter = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    if (window.FileReader) {\r\n      let result = []\r\n      let fr = new FileReader()\r\n      fr.readAsBinaryString(excelFile)\r\n      fr.onload = ev => {\r\n        try {\r\n          let data = ev.target.result\r\n          // 以二进制形式读取excel文件\r\n          let workbook = XLSX.read(data, {\r\n            type: 'binary'\r\n          })\r\n          // 只遍历第一个表\r\n          let name = workbook.SheetNames[0]\r\n          let sheet = workbook.Sheets[name]\r\n          if (sheet) {\r\n            result = XLSX.utils.sheet_to_json(sheet, {defval: '', ...setter})\r\n            if (config) {\r\n              result.forEach(item => {\r\n                for (let key in item) {\r\n                  if (config[key]) {\r\n                    item[config[key]] = item[key]\r\n                    delete item[key]\r\n                  }\r\n                }\r\n              })\r\n            }\r\n          }\r\n          resolve(result)\r\n        } catch (e) {\r\n          reject(new Error(\"文件类型不正确\"))\r\n        }\r\n      }\r\n      return\r\n    }\r\n    reject(new Error(\"该浏览器不支持该功能，请更换或升级浏览器\"))\r\n  })\r\n}\r\n\r\nexport default {\r\n  exportFile,\r\n  exportFileByConfig,\r\n  toJSON,\r\n  parseToJSON\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport {Form, Input, Modal, Table, Button } from 'antd';\r\nimport commonUrl from '../../../api/commonUrl'\r\nimport utils from '../../../utils/utils'\r\nconst { Search } = Input;\r\n\r\nlet checkedList = []\r\nclass BlSelectModelStoreTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: false,\r\n      loading: false,\r\n      storeNo: '',\r\n      storeName: '',\r\n      tableData: [],\r\n      vendorNo: props.vendorNo,\r\n      venderOptions: props.venderOptions,\r\n      defaultVal: props.defaultVal\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const rowSelection = {\r\n      onSelect: (record, selected, selectedRows) => {\r\n        checkedList = [...selectedRows]\r\n      },\r\n      onSelectAll: (selected, selectedRows, changeRows) => {\r\n        checkedList = [...selectedRows]\r\n      }\r\n    }\r\n    const columns = [\r\n      {\r\n        title: '门店编号',\r\n        dataIndex: 'storeNo',\r\n        key: 'storeNo',\r\n        width: 120,\r\n      },\r\n      {\r\n        title: '门店名称',\r\n        dataIndex: 'storeName',\r\n        key: 'storeName',\r\n      },\r\n    ];\r\n    const data = this.state.tableData;\r\n\r\n    let {label, placeholder, className: className = 'search-input'} = this.props\r\n    let visible = this.state.visible\r\n    return (\r\n      <Form.Item label={label}>\r\n        <Search placeholder={placeholder || label} className={className} onSearch={this.onSearch.bind(this)} value={this.state.defaultVal} enterButton readOnly/>\r\n        <Modal\r\n          title=\"选择门店\"\r\n          width={450}\r\n          visible={visible}\r\n          onOk={this.handleOk.bind(this)}\r\n          onCancel={this.handleCancel.bind(this)}\r\n        >\r\n          <Input placeholder=\"输入分店编号\" allowClear name=\"storeNo\" className=\"search-input-short\" onChange={this.inputChange.bind(this)} style={{\"marginRight\": '10px'}} onPressEnter={this.doSearchHandel.bind(this)}/>\r\n          <Input placeholder=\"输入分店名称\" allowClear name=\"storeName\" className=\"search-input-short\" onChange={this.inputChange.bind(this)} style={{\"marginRight\": '10px'}} onPressEnter={this.doSearchHandel.bind(this)}/>\r\n          <Button type=\"primary\" onClick={this.doSearchHandel.bind(this)}>查询</Button>\r\n          <Table\r\n            style={{marginTop: '10px'}} \r\n            rowKey={item => item.id}\r\n            pagination={false} \r\n            columns={columns} \r\n            rowSelection={rowSelection}\r\n            dataSource={data} \r\n            loading={this.state.loading}\r\n            scroll={{ y: 250 }}\r\n            size=\"small\"/>\r\n        </Modal>\r\n      </Form.Item>\r\n    )\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    // console.log(\"nextProps:\", nextProps)\r\n    this.setState({\r\n      vendorNo: nextProps.vendorNo,\r\n      venderOptions: nextProps.venderOptions,\r\n      defaultVal: nextProps.defaultVal\r\n    })\r\n  }\r\n\r\n  onSearch = () => {\r\n    this.setState({\r\n      visible: true\r\n    });\r\n    this.doSearchHandel()\r\n  }\r\n\r\n  doSearchHandel = () => {\r\n    let vendorNoListTemp = this.state.vendorNo && this.state.vendorNo.length > 0 ? this.state.vendorNo : this.state.venderOptions.map(item => {\r\n      return item.value\r\n    })\r\n    let params = {\r\n      pageNum: 1,\r\n      pageSize: -1,\r\n      storeNo: this.state.storeNo,\r\n      storeName: this.state.storeName\r\n    }\r\n    if(vendorNoListTemp && vendorNoListTemp.length) {\r\n      params.vendorNoList = vendorNoListTemp\r\n    }\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    this.$http.post(commonUrl.queryVendorStore, {...params}).then(res => {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n      if(res.code === 0) {\r\n        let tableDataArr = res.data && res.data.result && res.data.result.length ? res.data.result.map(item => {\r\n          let newItem = {\r\n            id: item.id,\r\n            storeNo: item.storeNo,\r\n            storeName: item.storeName\r\n          }\r\n          return newItem;\r\n        }) : [] \r\n        this.setState({\r\n          tableData: tableDataArr\r\n        })\r\n        return\r\n      }\r\n      throw new Error(res.msg)\r\n    }).catch(e => {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n      utils.openNotification('error', '系统提示', e.message)\r\n    })\r\n  }\r\n\r\n  handleOk = () => {\r\n    let {confirmHandel} = this.props\r\n    this.setState({\r\n      visible: false\r\n    });\r\n    let storeNoList = checkedList.map(item => {\r\n      return item.storeNo\r\n    })\r\n    let storeNameStr = checkedList.map(item => {\r\n      return item.storeName\r\n    }).join(',')\r\n    confirmHandel({\r\n      storeNo: storeNoList,\r\n      storeName: storeNameStr\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  }\r\n\r\n  inputChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default BlSelectModelStoreTable;","import React from 'react';\r\nimport {Form, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\n/**\r\n * @description: 结合ant通用的日期选择框\r\n * @return: \r\n */\r\nconst BlSelect = props => {\r\n  let {label, name, formItemChange, className: className = 'search-input', defaultVal, allowClear} = props\r\n  let defaultValMsg = defaultVal ? moment(defaultVal, dateFormat) : null\r\n  const onChange = (date, dateString) => {\r\n    formItemChange({name: name, value: dateString, doSearchHandel: true})\r\n  }\r\n  return <Form.Item label={label}>\r\n    <DatePicker placeholder={label} allowClear={allowClear} name={name} className={className} onChange={onChange} defaultValue={defaultValMsg} value={defaultValMsg} format={dateFormat} />\r\n  </Form.Item>\r\n}\r\nexport default BlSelect;","import '../../style/index.less';\nimport './index.less'; // style dependencies\n// deps-lint-skip: tooltip","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Tooltip from '../tooltip';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nvar Popover =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Popover, _React$Component);\n\n  function Popover() {\n    var _this;\n\n    _classCallCheck(this, Popover);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Popover).apply(this, arguments));\n\n    _this.saveTooltip = function (node) {\n      _this.tooltip = node;\n    };\n\n    _this.renderPopover = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          props = __rest(_a, [\"prefixCls\"]);\n\n      delete props.title;\n      var prefixCls = getPrefixCls('popover', customizePrefixCls);\n      return React.createElement(Tooltip, _extends({}, props, {\n        prefixCls: prefixCls,\n        ref: _this.saveTooltip,\n        overlay: _this.getOverlay(prefixCls)\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(Popover, [{\n    key: \"getPopupDomNode\",\n    value: function getPopupDomNode() {\n      return this.tooltip.getPopupDomNode();\n    }\n  }, {\n    key: \"getOverlay\",\n    value: function getOverlay(prefixCls) {\n      var _this$props = this.props,\n          title = _this$props.title,\n          content = _this$props.content;\n      warning(!('overlay' in this.props), 'Popover', '`overlay` is removed, please use `content` instead, ' + 'see: https://u.ant.design/popover-content');\n      return React.createElement(\"div\", null, title && React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-title\")\n      }, title), React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-inner-content\")\n      }, content));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderPopover);\n    }\n  }]);\n\n  return Popover;\n}(React.Component);\n\nexport { Popover as default };\nPopover.defaultProps = {\n  placement: 'top',\n  transitionName: 'zoom-big',\n  trigger: 'hover',\n  mouseEnterDelay: 0.1,\n  mouseLeaveDelay: 0.1,\n  overlayStyle: {}\n};","/*\r\n * @Descripttion: 销售查询相关接口\r\n * @version: \r\n * @Author: liuminghao@benlai.com\r\n * @Date: 2019-09-27 14:50:04\r\n * @LastEditTime: 2019-10-12 12:53:47\r\n */\r\nimport config from '../utils/config'\r\nconst saleSearchUrl = {\r\n  // 销售汇总\r\n  summaryByGoods: `${config.reqUrlSupplier}/supplier/a/vendorSale/summaryByGoods`,\r\n  // 门店汇总\r\n  storeSale: `${config.reqUrlSupplier}/supplier/a/vendorSale/storeSale`,\r\n  // 单个商品在门店销售汇总\r\n  summaryGoodsEachStore: `${config.reqUrlSupplier}/supplier/a/vendorSale/summaryGoodsEachStore`\r\n}\r\n\r\nexport default saleSearchUrl;\r\n","import React, { Component } from 'react';\r\nimport {Popover, Table, Icon, Form, Button, message, Row, Col} from 'antd';\r\nimport saleSearchUrl from '../../api/saleSearchUrl';\r\nimport utils from '../../utils/utils';\r\nimport Storage from '../../utils/localStorage';\r\nimport BlDatePicker from '../Common/SearchForm/BlDatePicker';\r\nimport BlSelectModelStoreTable from '../Common/SearchForm/BlSelectModelStoreTable';\r\nimport exportSheet from '../../utils/exportSheet';\r\nconst yVal = document.body.clientHeight - 146;\r\nclass GoodsDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const searchContent = Storage.get('searchContent') ? Storage.get('searchContent') : {}\r\n    this.state = {\r\n      formLayout: 'vertical',\r\n      loading: false,\r\n      exportLoading: false,\r\n\r\n      goodsNoS: props.match.params.goodsNo || '',\r\n      startDate: searchContent.startDate,\r\n      endDate: searchContent.endDate,\r\n      storeName: '',\r\n      storeNoList: [],\r\n      vendorNoListS: searchContent.vendorNoList,\r\n      goodsBarcodeS: searchContent.goodsBarcode,\r\n      contractNoS: searchContent.contractNo,\r\n      vendorGoodsNoS: searchContent.vendorGoodsNo,\r\n\r\n      goodsNo: '',\r\n      goodsBarcode: '',\r\n      contractNo: '',\r\n      vendorGoodsNo: '',\r\n      goodsName: '',\r\n      spec: '',\r\n      saleUnit: '',\r\n      saleQty: '',\r\n      saleAmount: '',\r\n      grossProfitAmount: '',\r\n\r\n      columns: [\r\n        {\r\n          title: '序号',\r\n          dataIndex: 'index',\r\n          width: 60\r\n        },\r\n        {\r\n          title: '门店名称',\r\n          dataIndex: 'storeName',\r\n          width: 100\r\n        },\r\n        {\r\n          title: '所在区域',\r\n          dataIndex: 'areaStr',\r\n          width: 110,\r\n          render: (text) => (\r\n            <div style={{ wordWrap: 'break-word', wordBreak: 'break-word' }}>\r\n              {text}\r\n            </div>\r\n          )\r\n        },\r\n        {\r\n          title: '平均销售价',\r\n          dataIndex: 'storeSalePrice',\r\n          width: 110,\r\n          sorter: (a, b) => a.storeSalePrice - b.storeSalePrice\r\n        },\r\n        {\r\n          title: '销售量+赠品',\r\n          dataIndex: 'storeSaleQty',\r\n          width: 120,\r\n          sorter: (a, b) => a.storeSaleQty - b.storeSaleQty\r\n        },\r\n        {\r\n          title: '销售额',\r\n          dataIndex: 'storeSaleAmount',\r\n          width: 90,\r\n          sorter: (a, b) => a.storeSaleAmount - b.storeSaleAmount\r\n        },\r\n        {\r\n          title: '销售占比',\r\n          dataIndex: 'storeSaleRatio',\r\n          width: 100,\r\n          sorter: (a, b) => a.storeSaleRatio - b.storeSaleRatio\r\n        },\r\n        {\r\n          title: '平均进价',\r\n          dataIndex: 'stockPrice',\r\n          width: 90,\r\n          sorter: (a, b) => a.stockPrice - b.stockPrice\r\n        },\r\n        {\r\n          title: '平均费率',\r\n          dataIndex: 'ratio',\r\n          width: 90,\r\n          sorter: (a, b) => a.ratio - b.ratio\r\n        },\r\n        {\r\n          title: '参考毛利额',\r\n          dataIndex: 'cityProfitAmount',\r\n          width: 110,\r\n          sorter: (a, b) => a.cityProfitAmount - b.cityProfitAmount\r\n        }\r\n      ],\r\n      citySaleList: [],\r\n\r\n      exportConfig: {\r\n        index: '序号',\r\n        storeName: '门店名称',\r\n        areaStr: '所在区域',\r\n        storeSalePrice: '平均销售价',\r\n        storeSaleQty: '销售量+赠品',\r\n        storeSaleAmount: '销售额',\r\n        storeSaleRatio: '销售占比',\r\n        stockPrice: '平均进价',\r\n        ratio: '平均费率',\r\n        cityProfitAmount: '参考毛利额'\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDetailMsg()\r\n  }\r\n\r\n  render() {\r\n    let {goodsName, goodsNo, goodsBarcode, vendorGoodsNo, contractNo, spec, saleUnit, saleQty, saleAmount, grossProfitAmount, citySaleList, columns} = this.state;\r\n    let content = (\r\n      <div style={{maxWidth: 300}}>\r\n        <div>平均售价：联营商品的销售额/联营商品的销售量；</div>\r\n        <div>平均进价：购销商品的进货额/购销商品的销售量；</div>\r\n        <div>销售额：仅显示联营类型的商品销售额；</div>\r\n        <div>平均费率：销售额*费率（扣点）之和/销售额，以每阶段的实际扣点计算</div>\r\n        <div>参考毛利额：联营商品的销售额减去对应的扣点金额（销售额*费率），以每阶段的实际扣点计算；</div>\r\n      </div>\r\n    )\r\n    return (\r\n      <div className=\"main-container\">\r\n        <div className=\"search-wraper\">\r\n          <Form layout={this.state.formLayout}>\r\n            <BlDatePicker label=\"起始时间\" allowClear={false} defaultVal={this.state.startDate} name=\"startDate\" formItemChange={this.formItemChange}/>\r\n            <BlDatePicker label=\"结束时间\" allowClear={false} defaultVal={this.state.endDate} name=\"endDate\" formItemChange={this.formItemChange}/>\r\n            <BlSelectModelStoreTable label=\"选择门店\" placeholder=\"点击选择门店\" confirmHandel={this.confirmHandel} defaultVal={this.state.storeName} vendorNo={this.state.vendorNoListS} venderOptions={[]}/>\r\n            <Form.Item\r\n              className=\"btn-wrap\"\r\n              label=\"&nbsp; \">\r\n              <Button type=\"primary\" onClick={this.getDetailMsg.bind(this)}><Icon type=\"search\" />查询</Button>\r\n              <Button onClick={this.doResetHandel.bind(this)}><Icon type=\"reload\" />重置</Button>\r\n              <Popover content=\"每次最多可导出2000条数据\" trigger=\"hover\">\r\n                <Button onClick={this.doExportDataHandel.bind(this)} disabled={this.state.exportLoading || this.state.citySaleList.length === 0}>{this.state.exportLoading ? <Icon type=\"loading\" /> : <Icon type=\"download\" />}导出</Button>\r\n              </Popover>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n        <hr className=\"s-slip\"/>\r\n        <div className=\"operation-wraper\">\r\n          <Row type=\"flex\" align=\"bottom\" gutter={10}>\r\n            <Col span={6}>商品：{goodsName}</Col>\r\n            <Col span={6}>编码：{goodsNo}</Col>\r\n            <Col span={6}>条码：{goodsBarcode}</Col>\r\n            <Col span={6}><div style={{ wordWrap: 'break-word', wordBreak: 'break-word' }}>货号：{vendorGoodsNo}</div></Col>\r\n          </Row>\r\n          <Row type=\"flex\" align=\"bottom\" gutter={10}>\r\n            <Col span={6}><div style={{ wordWrap: 'break-word', wordBreak: 'break-word' }}>合同编码：{contractNo}</div></Col>\r\n            <Col span={6}>规格：{spec}</Col>\r\n            <Col span={6}>单位：{saleUnit}</Col>\r\n            <Col span={6}>总销售量：{saleQty}</Col>\r\n          </Row>\r\n          <Row type=\"flex\" align=\"bottom\" gutter={10}>\r\n            <Col span={6}>总销售额：￥{saleAmount}</Col>\r\n            <Col span={6}>毛利额：￥{grossProfitAmount}</Col>\r\n            <Col span={6}></Col>\r\n            <Col span={6}>\r\n              <div style={{float: 'right'}}>\r\n                <Popover content={content} trigger=\"hover\" title=\"表格字段说明\" placement=\"topRight\">\r\n                  <Icon type=\"question-circle\" />帮助\r\n                </Popover>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <hr className=\"s-slip\"/>\r\n        <div className=\"content-wraper\">\r\n          <Table \r\n            loading={this.state.loading}\r\n            rowKey={item => `${item.index}${item.goodsNo}${item.storeNo}`}\r\n            columns={columns} \r\n            dataSource={citySaleList} \r\n            size=\"middle\"\r\n            pagination={false}\r\n            scroll={{ x: 1020, y: yVal }}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  formItemChange = (result) => {\r\n    this.setState({\r\n      [result.name]: result.value\r\n    })\r\n  }\r\n\r\n  confirmHandel = (result) => {\r\n    this.setState({\r\n      storeNoList: result.storeNo,\r\n      storeName: result.storeName\r\n    })\r\n  }\r\n\r\n  getDetailMsg = () => {\r\n    let {goodsNoS, startDate, endDate, storeNoList, vendorNoListS, goodsBarcodeS, contractNoS, vendorGoodsNoS} = this.state\r\n    let startDateTemp = startDate ? Date.parse(new Date(startDate.replace(/-/g, '/'))) : null\r\n    let endDateTemp = endDate ? Date.parse(new Date(endDate.replace(/-/g, '/'))) : null\r\n    if(startDateTemp > endDateTemp) {\r\n      message.warning('结束时间不能早于开始时间！');\r\n      return \r\n    }\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    let _params = {\r\n      goodsNo: goodsNoS === 'undefined' ? null : goodsNoS,\r\n      startDate: startDate,\r\n      endDate: endDate,\r\n      storeNoList: storeNoList,\r\n      vendorNoList: vendorNoListS,\r\n      goodsBarcode: goodsBarcodeS,\r\n      contractNo: contractNoS,\r\n      vendorGoodsNo: vendorGoodsNoS\r\n    }\r\n    this.$http.post(saleSearchUrl.summaryGoodsEachStore, {..._params}).then(res => {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n      if(res.code === 0) {\r\n        if(res.data) {\r\n          let citySaleListTemp = res.data.citySaleList && res.data.citySaleList.length ? res.data.citySaleList.map((item, idx) => {\r\n            item.index = idx + 1\r\n            if(item.provinceName && item.cityName) {\r\n              item.areaStr = `${item.provinceName}-${item.cityName}`\r\n            }else if(item.provinceName) {\r\n              item.areaStr = `${item.provinceName}`\r\n            }else if(item.cityName) {\r\n              item.areaStr = `${item.cityName}`\r\n            }else {\r\n              item.areaStr = `-`\r\n            }\r\n            item.storeSalePrice = item.storeSalePrice ? item.storeSalePrice.toFixed(2) : item.storeSalePrice\r\n            item.storeSaleQty = item.storeSaleQty ? item.storeSaleQty.toFixed(3) : item.storeSaleQty\r\n            item.storeSaleAmount = item.storeSaleAmount ? item.storeSaleAmount.toFixed(2) : item.storeSaleAmount\r\n            item.storeSaleRatio = item.storeSaleRatio ? item.storeSaleRatio.toFixed(2) : item.storeSaleRatio\r\n            item.stockPrice = item.stockPrice ? item.stockPrice.toFixed(2) : item.stockPrice\r\n            item.ratio = item.ratio ? item.ratio.toFixed(2) : item.ratio\r\n            item.cityProfitAmount = item.cityProfitAmount ? item.cityProfitAmount.toFixed(2) : item.cityProfitAmount\r\n            return item\r\n          }) : []\r\n          \r\n          this.setState({\r\n            citySaleList: citySaleListTemp,\r\n            goodsName: res.data.goodsName || '-',\r\n            spec: res.data.spec || '-',\r\n            saleUnit: res.data.saleUnit || '-',\r\n            saleQty: res.data.saleQty || '-',\r\n            saleAmount: res.data.saleAmount || '-',\r\n            grossProfitAmount: res.data.grossProfitAmount || '-',\r\n            goodsBarcode: res.data.goodsBarcode || '-',\r\n            goodsNo: res.data.goodsNo || '-',\r\n            contractNo: res.data.contractNo || '-',\r\n            vendorGoodsNo: res.data.vendorGoodsNo || '-'\r\n          })\r\n        }else {\r\n          this.setState({\r\n            citySaleList: []\r\n          })\r\n        }\r\n        return\r\n      }\r\n      throw new Error(res.msg)\r\n    }).catch(e => {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n      utils.openNotification('error', '系统提示', e.message || '')\r\n    })\r\n  }\r\n\r\n  doResetHandel = () => {\r\n    this.setState({\r\n      startDate: '',\r\n      endDate: '',\r\n      storeName: '',\r\n      storeNoList: [],\r\n      citySaleList: []\r\n    }, () => {\r\n      this.getDetailMsg()\r\n    })\r\n  }\r\n\r\n  doExportDataHandel = () => {\r\n    this.setState({\r\n      exportLoading: true\r\n    })\r\n    let citySaleList = this.state.citySaleList\r\n    let startDate = this.state.startDate\r\n    let endDate = this.state.endDate ? this.state.endDate : utils.dateFormat('yyyy-MM-dd', Date.parse(new Date()))\r\n    let goodsName = this.state.goodsName\r\n    if(citySaleList.length > 0) {\r\n      exportSheet.exportFileByConfig(citySaleList, `${goodsName}销售数据_${startDate}~${endDate}.xlsx`, this.state.exportConfig)\r\n      this.setState({\r\n        exportLoading: false\r\n      })\r\n    }else {\r\n      utils.openNotification('warning', '系统提示', '没有查询到可导出数据')\r\n      this.setState({\r\n        exportLoading: false\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default GoodsDetail;"],"sourceRoot":""}